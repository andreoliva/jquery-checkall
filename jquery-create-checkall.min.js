!function(e){e.fn.createCheckAll=function(t){function r(){for(var e=0;e<l.length;e++)if(!l[e].checked)return!1
return!0}var l=this.filter("input[type=checkbox]")
if(!l.length)return this
var n=e.extend({allSelector:null,breakAfter:!1,classes:null,id:null,label:"All",position:"before"},t),a=e(n.allSelector).filter("input[type=checkbox]")
if(!a.length){var c=l.parent().is("label"),i=e("<label></label>").text(n.label)
a=e('<input type="checkbox">').attr("id",n.id).addClass(n.classes),c?("before"==n.position?l.first().parent().before(a):l.last().parent().after(a),a.replaceWith(i),i.prepend(a)):("before"==n.position?l.first().before(a):l.last().next().after(a),a.after(i)),n.breakAfter&&i.after("<br>")}return a.change(function(e){l.prop("checked",e.target.checked)}).prop("checked",r()),l.change(function(){a.prop("checked",r())}),this}}(jQuery)
